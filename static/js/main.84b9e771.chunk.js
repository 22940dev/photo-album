(this["webpackJsonpphoto-album"]=this["webpackJsonpphoto-album"]||[]).push([[0],{21:function(e,t,a){},35:function(e,t,a){e.exports=a(63)},40:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(31),l=a.n(r),i=(a(40),a(21),a(18)),u=a(2),c=a.n(u),s=(a(41),a(26),c.a.initializeApp({apiKey:"AIzaSyAFFHeU1hLNgWWNOtDivMEyoRSC5c31RNI",authDomain:"photo-album-viclo.firebaseapp.com",databaseURL:"https://photo-album-viclo.firebaseio.com",projectId:"photo-album-viclo",storageBucket:"photo-album-viclo.appspot.com",messagingSenderId:"710056511024"})),m=c.a.storage(),p=s,h=o.a.createContext({user:null}),d=function(e){var t=e.children,a=function(){var e=Object(n.useState)((function(){var e=p.auth().currentUser;return{initializing:!e,user:e}})),t=Object(i.a)(e,2),a=t[0],o=t[1];function r(e){o({initializing:!1,user:e})}return Object(n.useEffect)((function(){var e=p.auth().onAuthStateChanged(r);return function(){return e()}}),[]),a}(),r=a.initializing,l=a.user;return r?null:o.a.createElement(h.Provider,{value:{user:l}},t)},f=a(4);var g=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],r=t[1],l=Object(n.useContext)(h).user;return o.a.createElement("div",null,l?o.a.createElement("header",{className:"App-header"},o.a.createElement("p",null,"Upload a Photo"),o.a.createElement("input",{type:"file",accept:"image/x-png,image/jpeg",onChange:function(e){!function(e){var t=new FileReader,a=e.target.files[0];a?(t.onload=function(){2===t.readyState&&(console.log(a),r(a))},t.readAsDataURL(e.target.files[0])):r(null)}(e)}}),o.a.createElement("button",{onClick:function(){a?m.ref(l.email).child(a.name).put(a).then((function(){alert("Image uploaded successfully to Firebase.")})):alert("Please upload an image first.")}},"Upload to Firebase"),o.a.createElement("div",null,o.a.createElement("button",{onClick:function(){return p.auth().signOut()}},"Sign Out"))):o.a.createElement(f.a,{to:{pathname:"/photo-album/"}}))},b=a(33),E=a(19),v=a.n(E);var A=function(){var e=Object(n.useContext)(h).user,t={signInFlow:"popup",signInOptions:[v.a.auth.GoogleAuthProvider.PROVIDER_ID,v.a.auth.EmailAuthProvider.PROVIDER_ID],credentialHelper:"none",callbacks:{signInSuccessWithAuthResult:function(){return!1}}};return o.a.createElement("header",{className:"App-header"},e?o.a.createElement(f.a,{to:{pathname:"/photo-album/upload"}}):o.a.createElement("div",null,o.a.createElement("h4",{style:{marginBottom:"2rem"}},"Please Sign In."),o.a.createElement(b.FirebaseAuth,{uiConfig:t,firebaseAuth:v.a.auth()})))},I=a(17);var O=function(){return o.a.createElement(d,null,o.a.createElement(I.a,null,o.a.createElement("div",{className:"App"},o.a.createElement("p",null,"Welcome to Photo Album. This is a tutorial for Firebase Cloud Storage and Authentication. Still in Progress."),o.a.createElement(f.d,null,o.a.createElement(f.b,{exact:!0,path:"/photo-album/upload",component:g}),o.a.createElement(f.b,{exact:!0,path:"/photo-album/",component:A})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.84b9e771.chunk.js.map